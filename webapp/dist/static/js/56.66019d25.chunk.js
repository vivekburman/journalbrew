(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{313:function(e,o,t){"use strict";var a=t(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=a(t(4)),l=(a(t(0)),a(t(432))),r=(0,n.default)("div",{className:"margin-main w-100"},void 0,(0,n.default)(l.default,{})),u=function(){return r};o.default=u},329:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getFollowerConnections=o.getFolloweeConnections=o.isBookmarked=o.setBookmark=o.unsetBookmark=o.requestUnFollow=o.requestFollow=o.getFollows=void 0;var a=t(51),n=t(83);o.getFollows=function(e){var o=e.followerId,t=e.followingId;return(0,a.axiosPost)("api/user-info/following",{followerId:o,followingId:t},{headers:{Authorization:(0,n.getToken)()}})};o.requestFollow=function(e){var o=e.followerId,t=e.followingId;return(0,a.axiosPut)("api/user-info/follow-request",{followerId:o,followingId:t},{headers:{Authorization:(0,n.getToken)()}})};o.requestUnFollow=function(e){var o=e.followerId,t=e.followingId;return(0,a.axiosDelete)("api/user-info/unfollow-request",{data:{followerId:o,followingId:t},headers:{Authorization:(0,n.getToken)()}})};o.isBookmarked=function(e){var o=e.userID,t=e.postID;return(0,a.axiosPost)("api/user-info/bookmarked",{userId:o,postId:t},{headers:{Authorization:(0,n.getToken)()}})};o.setBookmark=function(e){var o=e.userID,t=e.postID;return(0,a.axiosPut)("api/user-info/add-bookmark",{userId:o,postId:t},{headers:{Authorization:(0,n.getToken)()}})};o.unsetBookmark=function(e){var o=e.userID,t=e.postID;return(0,a.axiosDelete)("api/user-info/delete-bookmark",{data:{userId:o,postId:t},headers:{Authorization:(0,n.getToken)()}})};o.getFollowerConnections=function(e,o,t){return(0,a.axiosPost)("api/user-info/connections/followers",{userId:e,filter:{rangeStart:o,rangeEnd:t}},{headers:{Authorization:(0,n.getToken)()}})};o.getFolloweeConnections=function(e,o,t){return(0,a.axiosPost)("api/user-info/connections/following",{userId:e,filter:{rangeStart:o,rangeEnd:t}},{headers:{Authorization:(0,n.getToken)()}})}},432:function(e,o,t){"use strict";var a=t(18),n=t(1);Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var l=n(t(4)),r=n(t(79)),u=a(t(0)),i=t(19);t(433);var s=n(t(348)),d=n(t(349)),f=t(351),c=t(80),v=t(150),m=n(t(138)),w=t(366),p=t(367),I=t(140),g=n(t(336)),h=t(3),N=t(78),F=t(82),k=t(329),O=function(e){return(0,N.getDisplayName)(e.firstName,e.middleName,e.lastName)},L=(0,l.default)(m.default,{height:100}),E=(0,l.default)(m.default,{count:3}),S=(0,l.default)(m.default,{circle:!0,height:30,width:30}),U=(0,l.default)(m.default,{height:200}),x=(0,l.default)(m.default,{count:3}),T=(0,l.default)(g.default,{}),y=(0,l.default)("span",{className:"separator"},void 0,"\u2022"),D=(0,l.default)("hr",{}),P=(0,l.default)("span",{className:"written-by"},void 0,"Written By"),W=(0,i.connect)((function(e){return{currentUser:e.user.currentUser}}))((function(e){var o,t=(0,u.useState)(),a=(0,r.default)(t,2),n=a[0],i=a[1],m=(0,u.useState)(!0),g=(0,r.default)(m,2),N=g[0],W=g[1],C=(0,u.useState)(!1),b=(0,r.default)(C,2),A=b[0],z=b[1],B=(0,h.useParams)(),q=B.userId,_=B.postId,j=(0,u.useState)(F.TSNEnum.FOLLOW.UNSPECIFIED),M=(0,r.default)(j,2),H=M[0],J=M[1],R=(0,u.useState)(!1),G=(0,r.default)(R,2),K=G[0],Q=G[1],V=(0,u.useState)(),X=(0,r.default)(V,2),Y=X[0],Z=X[1],$=(0,h.useHistory)(),ee=function(){$.push("/user-profile/".concat(n.authorInfo.authorId))},oe=!!(null===(o=e.currentUser)||void 0===o?void 0:o.userId);(0,u.useEffect)((function(){(0,I.getFullPost)(_,q).then((function(e){var o=e.data;i(o),z(!1),oe&&Q(o.isBookmarked)})).catch((function(e){i(),z(!0)})).finally((function(){W(!1)}))}),[]),(0,u.useEffect)((function(){var o,t;if(oe){if(!(null===(o=e.currentUser)||void 0===o?void 0:o.token)||!(null===(t=e.currentUser)||void 0===t?void 0:t.userId)||!(null===n||void 0===n?void 0:n.authorInfo))return Z(!1),void J(F.TSNEnum.FOLLOW.UNSPECIFIED);e.currentUser.userId===n.authorInfo.authorId?J(F.TSNEnum.FOLLOW.UNSPECIFIED):(0,k.getFollows)({followerId:e.currentUser.userId,followingId:n.authorInfo.authorId}).then((function(e){e.data.success?J(F.TSNEnum.FOLLOW.FOLLOWS):J(F.TSNEnum.FOLLOW.NOT_FOLLOWS)})).catch((function(){J(F.TSNEnum.FOLLOW.UNSPECIFIED)})).finally((function(){Z(!1)}))}}),[n]);var te,ae,ne,le,re,ue=function(){var o,t;if((null===(o=e.currentUser)||void 0===o?void 0:o.userId)&&(null===n||void 0===n||null===(t=n.authorInfo)||void 0===t?void 0:t.authorId)){var a=H;Z(!0),(0,k.requestFollow)({followerId:e.currentUser.userId,followingId:n.authorInfo.authorId}).then((function(e){e.data.success?J(F.TSNEnum.FOLLOW.FOLLOWS):J(a)})).catch((function(){J(a)})).finally((function(){Z(!1)}))}},ie=function(){var o,t;if((null===(o=e.currentUser)||void 0===o?void 0:o.userId)&&(null===n||void 0===n||null===(t=n.authorInfo)||void 0===t?void 0:t.authorId)){var a=H;Z(!0),(0,k.requestUnFollow)({followerId:e.currentUser.userId,followingId:n.authorInfo.authorId}).then((function(e){e.data.success?J(F.TSNEnum.FOLLOW.NOT_FOLLOWS):J(a)})).catch((function(){J(a)})).finally((function(){Z(!1)}))}},se=function(){K?fe():de()},de=function(){var o;(null===(o=e.currentUser)||void 0===o?void 0:o.userId)&&_&&(0,k.setBookmark)({userID:e.currentUser.userId,postID:_}).then((function(e){e.data.success&&Q(!0)}))},fe=function(){var o;(null===(o=e.currentUser)||void 0===o?void 0:o.userId)&&_&&(0,k.unsetBookmark)({userID:e.currentUser.userId,postID:_}).then((function(e){e.data.success&&Q(!1)}))};return u.default.createElement(u.default.Fragment,null,N?(0,l.default)("div",{className:"flex-row-nowrap full-post-container justify-content-evenly"},void 0,(0,l.default)("div",{className:"flex-column-nowrap flex-grow-2 full-news"},void 0,(0,l.default)("div",{},void 0,L,(0,l.default)("section",{style:{margin:"30px 0",lineHeight:1.5}},void 0,E),S,(0,l.default)("div",{style:{margin:"30px 0",lineHeight:1.5}},void 0,U,x)))):A?T:(0,l.default)("div",{className:"flex-row-nowrap full-post-container"},void 0,(0,l.default)("div",{className:"flex-column-nowrap flex-grow-2 full-news"},void 0,(0,l.default)("div",{},void 0,(0,l.default)("h1",{className:"news-heading"},void 0,(0,f.parseHTMLToReact)(n.metaInfo.title)),(0,l.default)("div",{},void 0,(0,l.default)("div",{className:"full-story-profile-wrapper justify-content-between"},void 0,(0,l.default)("div",{className:"flex-row-nowrap align-items-flexstart"},void 0,(0,l.default)("div",{className:"flex-row-nowrap align-items-center cursor-pointer",onClick:ee},void 0,(0,l.default)(c.UserAvatar,{size:50,url:n.authorInfo.profilePicUrl,userName:O(n.authorInfo)}),(0,l.default)("div",{className:"padding-left-10"},void 0,(0,l.default)("div",{className:"username"},void 0,O(n.authorInfo)),(0,l.default)("div",{className:"flex-row align-items-center"},void 0,(0,l.default)("span",{className:"news-location"},void 0,n.metaInfo.location),y,(0,l.default)("span",{className:"news-time-of-post"},void 0,(le=n.metaInfo.createdAt,re=new Date(le),"".concat(w.months[re.getMonth()]," ").concat(re.getDate())))))),H===F.TSNEnum.FOLLOW.UNSPECIFIED?u.default.createElement(u.default.Fragment,null):H===F.TSNEnum.FOLLOW.FOLLOWS?(0,l.default)("span",{className:"following ts--top-align-5 "+(Y?"tsn-loading":""),onClick:ie},void 0,"Following"):(0,l.default)("span",{className:"follow ts--top-align-5 "+(Y?"tsn-loading":""),onClick:ue},void 0,"Follow")),(0,l.default)("div",{className:"full-story-top-items-wrapper flex-column-nowrap"},void 0,(0,l.default)("div",{className:"flex-row-nowrap social-share-wrapper"},void 0,oe?u.default.createElement(u.default.Fragment,null,(0,l.default)("img",{src:K?d.default:s.default,alt:"bookmark",className:"icon-img padding-left-0",onClick:se})):u.default.createElement(u.default.Fragment,null))))),(0,l.default)("section",{},void 0,(te=n.postInfo.fullStory,ae=te.blocks,ne=void 0===ae?[]:ae,u.default.createElement(u.default.Fragment,null,(0,p.renderTemplate)(ne)))),D),(0,l.default)("div",{className:"margin-top-10 flex-row-wrap tags-wrapper"},void 0,(0,l.default)(v.Tags,{tags:n.metaInfo.tags})),(0,l.default)("div",{},void 0,(0,l.default)("div",{className:"margin-top-10"},void 0,(0,l.default)("div",{className:"full-story-profile-wrapper-bottom justify-content-between"},void 0,(0,l.default)("div",{className:"flex-row-nowrap justify-content-between align-items-center"},void 0,(0,l.default)("div",{className:"flex-row-nowrap align-items-center padding-top-8 cursor-pointer",onClick:ee},void 0,(0,l.default)(c.UserAvatar,{size:50,url:n.authorInfo.profilePicUrl,userName:O(n.authorInfo)}),(0,l.default)("div",{className:"flex-column-nowrap margin-left-8"},void 0,P,(0,l.default)("span",{className:"username"},void 0,O(n.authorInfo)))),H===F.TSNEnum.FOLLOW.UNSPECIFIED?u.default.createElement(u.default.Fragment,null):H===F.TSNEnum.FOLLOW.FOLLOWS?(0,l.default)("span",{className:"following "+(Y?"tsn-loading":""),onClick:ie},void 0,"Following"):(0,l.default)("span",{className:"follow "+(Y?"tsn-loading":""),onClick:ue},void 0,"Follow")),(0,l.default)("div",{className:"flex-row-nowrap social-share-bottom-wrapper padding-top-8"},void 0,oe?u.default.createElement(u.default.Fragment,null,(0,l.default)("img",{src:K?d.default:s.default,alt:"bookmark",className:"icon-img padding-left-0",onClick:se})):u.default.createElement(u.default.Fragment,null))))))))}));o.default=W},433:function(e,o,t){}}]);