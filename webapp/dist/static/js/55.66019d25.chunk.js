(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{316:function(e,t,o){"use strict";var a=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o(4)),i=(a(o(0)),a(o(579))),l=(0,n.default)("div",{className:"margin-main w-100"},void 0,(0,n.default)(i.default,{})),r=function(){return l};t.default=r},329:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFollowerConnections=t.getFolloweeConnections=t.isBookmarked=t.setBookmark=t.unsetBookmark=t.requestUnFollow=t.requestFollow=t.getFollows=void 0;var a=o(51),n=o(83);t.getFollows=function(e){var t=e.followerId,o=e.followingId;return(0,a.axiosPost)("api/user-info/following",{followerId:t,followingId:o},{headers:{Authorization:(0,n.getToken)()}})};t.requestFollow=function(e){var t=e.followerId,o=e.followingId;return(0,a.axiosPut)("api/user-info/follow-request",{followerId:t,followingId:o},{headers:{Authorization:(0,n.getToken)()}})};t.requestUnFollow=function(e){var t=e.followerId,o=e.followingId;return(0,a.axiosDelete)("api/user-info/unfollow-request",{data:{followerId:t,followingId:o},headers:{Authorization:(0,n.getToken)()}})};t.isBookmarked=function(e){var t=e.userID,o=e.postID;return(0,a.axiosPost)("api/user-info/bookmarked",{userId:t,postId:o},{headers:{Authorization:(0,n.getToken)()}})};t.setBookmark=function(e){var t=e.userID,o=e.postID;return(0,a.axiosPut)("api/user-info/add-bookmark",{userId:t,postId:o},{headers:{Authorization:(0,n.getToken)()}})};t.unsetBookmark=function(e){var t=e.userID,o=e.postID;return(0,a.axiosDelete)("api/user-info/delete-bookmark",{data:{userId:t,postId:o},headers:{Authorization:(0,n.getToken)()}})};t.getFollowerConnections=function(e,t,o){return(0,a.axiosPost)("api/user-info/connections/followers",{userId:e,filter:{rangeStart:t,rangeEnd:o}},{headers:{Authorization:(0,n.getToken)()}})};t.getFolloweeConnections=function(e,t,o){return(0,a.axiosPost)("api/user-info/connections/following",{userId:e,filter:{rangeStart:t,rangeEnd:o}},{headers:{Authorization:(0,n.getToken)()}})}},579:function(e,t,o){"use strict";var a=o(18),n=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o(139)),l=n(o(4)),r=n(o(37)),s=n(o(38)),u=n(o(42)),d=n(o(39)),f=n(o(40)),c=n(o(41)),g=n(o(17)),h=a(o(0)),v=o(384),w=o(19),m=n(o(321)),p=n(o(138));o(580);var I=o(329),D=n(o(581));function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,a=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;o=Reflect.construct(a,arguments,n)}else o=a.apply(this,arguments);return(0,f.default)(this,o)}}var k=(0,l.default)("div",{className:"connection-item flex-row-nowrap margin-bottom-5 align-items-center"},void 0,(0,l.default)(p.default,{circle:!0,height:40,width:40}),(0,l.default)("div",{className:"margin-left-15"}),(0,l.default)(p.default,{width:250,height:20}),(0,l.default)("div",{className:"margin-left-15 margin-right-15 flex-grow-1"}),(0,l.default)(p.default,{width:50,height:20})),L=(0,l.default)("h1",{},void 0,"Nothing to show here"),y=(0,l.default)("header",{className:"ff-title font-playfair"},void 0,"Your Connections"),M=function(e){(0,d.default)(o,e);var t=O(o);function o(e){var a;return(0,r.default)(this,o),a=t.call(this,e),(0,g.default)((0,u.default)(a),"getSkeletonUI",(function(){for(var e=[],t=0;t<10;t++)e.push((0,l.default)("li",{},t,k));return(0,l.default)("ul",{className:"ul-default"},void 0,e)})),(0,g.default)((0,u.default)(a),"getConnections",(function(e,t,o){var n;return(a.currentMode===a.MODES.FOLLOW?I.getFollowerConnections:I.getFolloweeConnections)(e,t,o,null===(n=a.props.currentUser)||void 0===n?void 0:n.token).then((function(e){var t=e.data;return a.allData=[].concat((0,i.default)(a.allData),(0,i.default)(t.userList)),{data:t.userList,isLast:t.userList.length&&t.userList[0].totalCount-1<=o}}))})),a.allData=[],a.MODES={FOLLOW:1,FOLLOWING:2},a.currentMode=1,a.sliderSize=20,a.getRangeData=a.getRangeData.bind((0,u.default)(a)),a.emptyStateUI=a.emptyStateUI.bind((0,u.default)(a)),a.onModeToggle=a.onModeToggle.bind((0,u.default)(a)),a.getListItemDOM=a.getListItemDOM.bind((0,u.default)(a)),a}return(0,s.default)(o,[{key:"getListItemDOM",value:function(e,t){return(0,l.default)(D.default,{data:e,index:t,currentUser:this.props.currentUser.userId,showFollow:this.currentMode===this.MODES.FOLLOWING,userIDKey:this.currentMode===this.MODES.FOLLOWING?"followeeID":"followerID"})}},{key:"getRangeData",value:function(e,t){var o=this.props.currentUser.userId;if(this.allData.length){var a=this.allData[this.allData.length-1],n=Math.min(a.totalCount-1,t);if(n<=a.dataIndex)return Promise.resolve({data:this.allData.slice(e,n),isLast:a.totalCount-1<=t})}return this.getConnections(o,e,t)}},{key:"emptyStateUI",value:function(){return(0,l.default)("div",{},void 0,L,(0,l.default)("p",{},void 0,this.MODES.FOLLOW===this.currentMode?"You have no followers yet":"You haven't followed anyone yet"," \ud83d\ude42"))}},{key:"onModeToggle",value:function(e){+e.currentTarget.dataset.itemType===this.MODES.FOLLOW?this.currentMode=this.MODES.FOLLOW:this.currentMode=this.MODES.FOLLOWING,this.allData=[]}},{key:"render",value:function(){return(0,l.default)("div",{className:"follow-following-component"},void 0,y,(0,l.default)(v.Tabs,{},void 0,(0,l.default)(v.TabList,{className:"ff-tabslist flex-row-nowrap list-style-none"},void 0,(0,l.default)(v.Tab,{className:"ff-tab-item ts--top-align-1 cursor-pointer outline-none","data-item-type":this.MODES.FOLLOW,onClick:this.onModeToggle},void 0,"Followers"),(0,l.default)(v.Tab,{className:"ff-tab-item ts--top-align-1 cursor-pointer outline-none","data-item-type":this.MODES.FOLLOWING,onClick:this.onModeToggle},void 0,"Following")),(0,l.default)(v.TabPanel,{},void 0,(0,l.default)("div",{className:"margin-top-0 padding-right-8 padding-left-8"},void 0,(0,l.default)(m.default,{dataIndex:"dataIndex",sliderSize:this.sliderSize,getLoadingUI:this.getSkeletonUI,getListItemDOM:this.getListItemDOM,getRangeData:this.getRangeData,uniqueId:"id",emptyStateUI:this.emptyStateUI},this.MODES.FOLLOW))),(0,l.default)(v.TabPanel,{},void 0,(0,l.default)("div",{className:"main-feed-list-wrapper margin-top-0 padding-right-8 padding-left-8"},void 0,(0,l.default)(m.default,{dataIndex:"dataIndex",sliderSize:this.sliderSize,getLoadingUI:this.getSkeletonUI,getListItemDOM:this.getListItemDOM,getRangeData:this.getRangeData,uniqueId:"id",emptyStateUI:this.emptyStateUI},this.MODES.FOLLOWING)))))}}]),o}(h.Component),F=(0,w.connect)((function(e){return{currentUser:e.user.currentUser}}))(M);t.default=F},580:function(e,t,o){},581:function(e,t,o){"use strict";var a=o(18),n=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o(4)),l=n(o(79)),r=a(o(0)),s=o(329);o(582);var u=o(80),d=o(78),f=o(3),c=function(e){var t=e.data,o=(0,r.useState)(t.following),a=(0,l.default)(o,2),n=a[0],c=a[1],g=(0,r.useState)(!1),h=(0,l.default)(g,2),v=h[0],w=h[1],m=(0,f.useHistory)();return(0,i.default)("div",{className:"follow-card flex-row-nowrap margin-bottom-5 align-items-center cursor-pointer",onClick:function(){m.push("/user-profile/".concat(t[e.userIDKey]))}},e.index,(0,i.default)(u.UserAvatar,{url:t.profilePicUrl,size:40}),(0,i.default)("div",{className:"margin-left-15 margin-right-15 flex-grow-1 fc-name font-roboto"},void 0,(0,d.getDisplayName)(t.firstName,t.middleName,t.lastName)),e.showFollow?n?(0,i.default)("div",{className:"following "+(v?"tsn-loading":""),onClick:function(o){o.stopPropagation(),w(!0),(0,s.requestUnFollow)({followerId:e.currentUser,followingId:t.followeeID}).then((function(e){e.data.success?c(!1):c(!0)})).catch((function(){c(!0)})).finally((function(){w(!1)}))}},void 0,"Following"):(0,i.default)("div",{className:"follow "+(v?"tsn-loading":""),onClick:function(o){o.stopPropagation(),w(!0),(0,s.requestFollow)({followerId:e.currentUser,followingId:t.followeeID}).then((function(e){e.data.success?c(!0):c(!1)})).catch((function(){c(!1)})).finally((function(){w(!1)}))}},void 0,"Follow"):r.default.createElement(r.default.Fragment,null))};t.default=c},582:function(e,t,o){}}]);